<div class="content-header">
    <div class="card">
        <div class="card-header">
            <h1>Update Product List</h1>
        </div>
        <div class="card-body">
            <div class="container">
                <div class="row g-5">
                    <div class="col-md-5 col-lg-4 order-md-last">
                    </div>
                    <div class="col-md-7 col-lg-8">
                        <form class="needs-validation" novalidate>
                            <div class="row g-3">
                                <div class="col-sm-6 mt-3">
                                    <input type="text" class="form-control" id="searchTerm" placeholder="Search"
                                        [(ngModel)]="searchTerm" (input)="filterTable()" name="searchTerm" required>
                                </div>


                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="content-header">
    <div class="card">
        <div class="container mt-2">
            <div class="row">
                <div class="col">
                    <div class="d-flex justify-content-end mb-2">
                        <button class="btn btn-dark mr-1" (click)="downloadPDF()">Download PDF</button>
                        <button class="btn btn-dark mr-1" (click)="downloadCSV()">Download CSV</button>
                        <button class="btn btn-dark" (click)="printPage()">Print</button>
                    </div>
                    <div class="container">
                        <div class="table-responsive">
                            <table class="table table-bordered table-striped" id="productTable" style="margin-top:10px">
                                <thead class="table__head">
                                    <tr class="winner__table">
                                        <th>No.</th>
                                        <th><i class="fa fa-user" aria-hidden="true"></i> Product Name</th>
                                        <th><i class="fa fa-map-marker" aria-hidden="true"></i> Address</th>
                                        <th><i class="fas fa-rupee-sign"></i> Price</th>
                                        <th><i class="fa fa-phone" aria-hidden="true"></i> Supplier Contact</th>
                                        <th><i class="fa-solid fa-image"></i> Image</th>
                                        <th><i class="fa fa-edit" aria-hidden="true"></i> Update</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr
                                        *ngFor="let product of filteredProducts | paginate: { itemsPerPage: itemsPerPage, currentPage: currentPage }">
                                        <td>{{ product.no }}</td>
                                        <td>{{ product.name }}</td>
                                        <td>{{ product.price }}</td>
                                        <td>{{ product.dropPrice }}</td>
                                        <td>{{ product.supplier }}</td>
                                        <td><img [src]="product.image" alt="Product Image" class="coin"></td>
                                        <td><fa-icon [icon]="editIcon" type="button" data-toggle="modal"
                                                data-target="#myModal"></fa-icon></td>
                                    </tr>
                                </tbody>

                            </table>
                            <!-- <div class="col-sm-3 mt-3 mb-3">
                                <select id="itemsPerPage" class="form-control" [(ngModel)]="itemsPerPage"
                                    name="itemsPerPage">
                                    <option disabled selected value="">{{ itemsPerPageOptions[0] }}</option>
                                    <option *ngFor="let option of itemsPerPageOptions.slice(1)" [value]="option">{{
                                        option }}</option>
                                </select>
                            </div>
                            <pagination-controls (pageChange)="currentPage = $event"></pagination-controls> -->

                            <div class="row g-3">
                                <div class="col-sm-3 mt-3 mb-3">
                                    <!-- <label for="itemsPerPage" class="form-label">Items per page</label> -->
                                    <select id="itemsPerPage" class="form-select" [(ngModel)]="itemsPerPage"
                                        name="itemsPerPage">
                                        <option disabled selected value="">{{ itemsPerPageOptions[0] }}</option>
                                        <option *ngFor="let option of itemsPerPageOptions.slice(1)" [value]="option">{{
                                            option }}</option>
                                    </select>
                                </div>
                                <div class="col-sm-9 mt-3 mb-3 d-flex align-items-center justify-content-end">
                                    <pagination-controls (pageChange)="currentPage = $event"></pagination-controls>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container">
    <div class="modal" id="myModal">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title w-100 text-center">Form</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;"></button>
                </div>
                <div class="modal-body">
                    <form id="myForm" class="needs-validation" novalidate>
                        <div class="container">
                            <div class="form-group row">
                                <label for="name_id" class="col-sm-4 col-form-label">Product Name</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" id="name_id" name="ProductName"
                                        placeholder="Enter Product Name" required />
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="Price" class="col-sm-4 col-form-label">Price</label>
                                <div class="input-group col-sm-10">
                                    <input type="text" class="form-control" id="Price" name="Price"
                                        placeholder="Enter Product Price" required>
                                </div>
                            </div>
                            <div class="text-center">
                                <button class="btn btn-success" type="submit">Update</button>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <br><br>
</div>